"use strict";(self.webpackChunkmanage_budget=self.webpackChunkmanage_budget||[]).push([[881],{2881:function(e,n,r){r.r(n),r.d(n,{default:function(){return Z}});var t=r(8214),a=r(5861),u=r(2982),s=r(885),c=r(2791),o=r(4434),i=r(3559),l="CategoryExpense_expense__box__TpgXZ",p=r(184),f=function(e){var n=e.expense;return(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)("header",{children:n.category}),(0,p.jsx)("section",{children:n.expenseDetail.map((function(e,n){var r=new Date(e.date).toLocaleDateString("en-US",{month:"short",weekday:"long",day:"numeric"});return(0,p.jsxs)("article",{children:[(0,p.jsx)("p",{children:e.description}),(0,p.jsx)("p",{children:r}),(0,p.jsxs)("p",{children:["Rs. ",e.amount]})]},n)}))}),(0,p.jsxs)("footer",{children:["Total : Rs. ",n.totalAmount]})]})},d="UserMonthlyExpense_expense__detail__kuN24",h="UserMonthlyExpense_expense__container__WPn2u",x=function(e){var n=e.year,r=e.month,t=function(e){var n=[];return(0,u.Z)(new Set(e.map((function(e){return e.category})))).forEach((function(r){var t=e.filter((function(e){return e.category===r})),a=t.reduce((function(e,n){return e+parseInt(n.amount)}),0);n.push({category:r,totalAmount:a,expenseDetail:t})})),n}(e.expenseDetail),a=t.reduce((function(e,n){return e+n.totalAmount}),0);return(0,p.jsxs)("div",{className:d,children:[(0,p.jsxs)("header",{children:["Expense for ",r," - ",n," Rs.",a]}),(0,p.jsx)("div",{className:h,children:t.map((function(e,n){return(0,p.jsx)(f,{expense:e},n)}))})]})},v="UserMonthYearExpense_expense__filter_section__FSMqu",m=function(e){var n=e.yearList,r=(0,c.useMemo)((function(){return e.yearMonthData}),[e.yearMonthData]),t=(0,c.useState)([]),a=(0,s.Z)(t,2),u=a[0],o=a[1],l=(0,c.useState)(n[0]),f=(0,s.Z)(l,2),d=f[0],h=f[1],m=(0,c.useState)(""),y=(0,s.Z)(m,2),Z=y[0],b=y[1];(0,c.useEffect)((function(){var e=r.filter((function(e){return e.year===d}))[0].months,n=e[0];o(e),b((function(r){return e.find((function(e){return e===r}))?r:n}))}),[r,d]);var g=""!==d&&""!==Z;if(g){var w=e.allExpense.filter((function(e){return e.year===d&&e.month===Z}));return(0,p.jsxs)(c.Fragment,{children:[(0,p.jsxs)("div",{className:v,children:[(0,p.jsx)("select",{onChange:function(e){h(e.target.value)},children:e.yearMonthData.map((function(e){return(0,p.jsx)("option",{value:e.year,children:e.year},e.year)}))}),(0,p.jsx)("select",{onChange:function(e){b(e.target.value)},children:u.map((function(e){return(0,p.jsx)("option",{value:e,children:e},e)}))})]}),g&&(0,p.jsx)(x,{month:Z,year:d,expenseDetail:w})]})}return(0,p.jsx)(i.Z,{})},y="UserAllExpense_expense__section__vnvCW",Z=function(e){var n=e.userId,r=(0,c.useMemo)((function(){return"https://managebudget-12b75-default-rtdb.firebaseio.com/userDetail_DB_".concat(n,".json")}),[n]),l=(0,c.useState)(void 0),f=(0,s.Z)(l,2),d=f[0],h=f[1],x=(0,o.Z)(),v=x.isLoading,Z=x.fetchExpense,b=(0,c.useCallback)((0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(r);case 2:n=e.sent,h(n);case 4:case"end":return e.stop()}}),e)}))),[r,Z]);(0,c.useEffect)((function(){b()}),[b]);var g=[],w=d&&d.length>0,_=!v&&w;_&&(g=function(e){var n=[],r=(0,u.Z)(new Set(e.map((function(e){return e.year})))).sort((function(e,n){return n-e}));return r.forEach((function(e){var r=d.filter((function(n){return n.year===e})),t=(0,u.Z)(new Set(r.map((function(e){return e.month}))));n.push({year:e,months:t})})),n}(d));var j=(0,u.Z)(new Set(g.map((function(e){return e.year}))));return v?(0,p.jsx)(i.Z,{}):!1!==w||v?_?(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("header",{className:y,children:"Expense Dashboard"}),_&&(0,p.jsx)(m,{allExpense:d,yearList:j,yearMonthData:g})]}):void 0:(0,p.jsx)("article",{className:"message__text norecord_message",children:"--- No Record Found! --- "})}},4434:function(e,n,r){var t=r(8214),a=r(5861),u=r(885),s=r(2791);n.Z=function(){var e=(0,s.useState)(!1),n=(0,u.Z)(e,2),r=n[0],c=n[1],o=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null!=n)for(a in n)r.push({id:n[a].id,email:n[a].email,password:n[a].password,username:n[a].username,fullName:n[a].fullName});return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null!=n)for(a in n)r.push({description:n[a].description,category:n[a].category,amount:n[a].amount,date:new Date(n[a].date),month:new Date(n[a].date).toLocaleDateString("en-US",{month:"long"}),year:new Date(n[a].date).toLocaleDateString("en-US",{year:"numeric"})});return e.abrupt("return",r.sort((function(e,n){return e.date-n.date})));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,fetch(n,{method:r?r.method:"GET",body:r?JSON.stringify(r.body):null,headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:return u=e.sent,c(!1),e.abrupt("return",u);case 12:throw e.prev=12,e.t0=e.catch(1),new Error("Some Problem Occured!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n,{});case 3:return r=e.sent,e.next=6,o(r);case 6:return a=e.sent,c(!1),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return c(!1),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n,{});case 3:return a=e.sent,e.next=6,o(a);case 6:return u=e.sent,c(!1),e.abrupt("return",u.find((function(e){return e.email===r})));case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return c(!1),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n,r);case 3:if(!e.sent){e.next=7;break}return c(!1),e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return c(!1),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n,{});case 3:return a=e.sent,e.next=6,o(a);case 6:return u=e.sent,c(!1),e.abrupt("return",u.find((function(e){return e.id===r})));case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return c(!1),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,r){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n,r);case 3:if(!e.sent){e.next=7;break}return c(!1),e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return c(!1),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,r){return e.apply(this,arguments)}}(),v=(0,s.useCallback)(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,l(n,{});case 4:return r=e.sent,e.next=7,i(r);case 7:return a=e.sent,c(!1),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:return c(!1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}(),[]);return{isLoading:r,fetchUserData:p,checkUserExistance:f,addUser:d,fetchUser:h,addExpense:x,fetchExpense:v}}},2982:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(907);var a=r(181);function u(e){return function(e){if(Array.isArray(e))return(0,t.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=881.a26683ad.chunk.js.map