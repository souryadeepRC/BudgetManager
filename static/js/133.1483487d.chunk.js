"use strict";(self.webpackChunkmanage_budget=self.webpackChunkmanage_budget||[]).push([[133],{2133:function(e,r,t){t.r(r),t.d(r,{default:function(){return N}});var n=t(2791),a=t(2982),s=t(8214),u=t(5861),c=t(885),o=t(8931),i=t(4434),l=t(3559),f="HomeDashboard_dashboard__container__IdKE+",d="HomeDashboard_dashboard__filter__container__3l7e9",p="HomeDashboard_month_wiseBreakup_link__z+56X",h="DashboardItem_dashboard__item__O+ahr",m="DashboardItem_item__month__RFxMF",v="DashboardItem_item__percentage__section__fRPTz",_="DashboardItem_item__amount__hXAt5",x=t(184),b=function(e){var r=(e.totalAmount/e.yearlyTotal*100).toFixed(2)+"%";return(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("article",{className:m,children:e.month}),(0,x.jsx)("section",{className:v,children:(0,x.jsx)("article",{style:{width:r},children:"\xa0"})}),(0,x.jsxs)("article",{className:_,children:["Rs. ",e.totalAmount]})]})},Z=["January","February","March","April","May","June","July","August","September","October","November","December"],y=function(e){var r=(0,n.useState)(void 0),t=(0,c.Z)(r,2),h=t[0],m=t[1],v=(0,n.useState)(void 0),_=(0,c.Z)(v,2),y=_[0],g=_[1],w=(0,n.useState)([]),j=(0,c.Z)(w,2),k=j[0],D=j[1],N=(0,o.k6)(),I=(0,n.useMemo)((function(){return e.userId}),[e]),S=(0,n.useMemo)((function(){return"https://managebudget-12b75-default-rtdb.firebaseio.com/userDetail_DB_".concat(I,".json")}),[I]),A=(0,i.Z)(),E=A.isLoading,U=A.fetchExpense,F=(0,n.useCallback)((0,u.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(S);case 2:r=e.sent,g(r);case 4:case"end":return e.stop()}}),e)}))),[U,S]);(0,n.useEffect)((function(){void 0===y&&F()}),[y,F]);var C=function(e){var r=y.filter((function(r){return r.year===String(e)})),t=[];return Z.forEach((function(e){var n=r.filter((function(r){return r.month===e})).reduce((function(e,r){return e+parseInt(r.amount)}),0);t.push({month:e,totalAmount:n})})),t};if(!h&&y&&null!=y){var M=(0,a.Z)(new Set(y.map((function(e){return parseInt(e.year)})))).sort((function(e,r){return r-e})),T=M[0],O=C(T);0===k.length&&D(M),m({choosenYear:T,analysisData:O})}var L=!h||void 0===y||E;if(L)return(0,x.jsx)(l.Z,{});if(null===y)return(0,x.jsx)("article",{className:"message__text error_message",children:"Problem Occured !"});if(void 0===h.choosenYear)return(0,x.jsx)("article",{className:"message__text norecord_message",children:" --- No Record Found ! ---"});if(!L&&null!==y){var B=h.analysisData.reduce((function(e,r){return e+r.totalAmount}),0);return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("div",{className:d,children:(0,x.jsx)("select",{defaultValue:h.choosenYear,onChange:function(e){var r=e.target.value,t=C(r);m({choosenYear:r,analysisData:t})},children:k.map((function(e){return(0,x.jsx)("option",{value:e,children:e},e)}))})}),(0,x.jsx)("section",{className:f,children:h.analysisData.map((function(e,r){return(0,x.jsx)(b,{month:e.month,totalAmount:e.totalAmount,yearlyTotal:B},r)}))}),(0,x.jsx)("div",{className:p,children:(0,x.jsx)("button",{onClick:function(){N.push("/BudgetManager/expenses")},children:"View Month Wise Breakup"})})]})}},g="UserDetail_user__detail__nsz3W",w="UserDetail_user__detail__header__Tpc72",j="UserDetail_user__detail__info__gu4I1",k="UserDetail_error_message__wlFGx",D=function(e){var r=(0,n.useMemo)((function(){return e.userId}),[e]),t=(0,i.Z)(),a=t.isLoading,o=t.fetchUser,f=(0,n.useState)(void 0),d=(0,c.Z)(f,2),p=d[0],h=d[1],m=(0,n.useCallback)((0,u.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://managebudget-12b75-default-rtdb.firebaseio.com/users.json",parseInt(r));case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)}))),[o,r]);return(0,n.useEffect)((function(){p||m()}),[p,m]),void 0===p||a?(0,x.jsx)(l.Z,{}):null===p?(0,x.jsx)("article",{className:k,children:"Problem Occured !"}):(0,x.jsxs)("div",{className:g,children:[(0,x.jsxs)("header",{className:w,children:["Welcome ",p.username]}),(0,x.jsxs)("section",{className:j,children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("article",{children:"Full Name :"}),(0,x.jsx)("article",{children:p.fullName})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("article",{children:"E-mail :"}),(0,x.jsx)("article",{children:p.email})]})]})]})},N=function(e){return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(D,{userId:e.userId}),(0,x.jsx)(y,{userId:e.userId})]})}},4434:function(e,r,t){var n=t(8214),a=t(5861),s=t(885),u=t(2791);r.Z=function(){var e=(0,u.useState)(!1),r=(0,s.Z)(e,2),t=r[0],c=r[1],o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],null!=r)for(a in r)t.push({id:r[a].id,email:r[a].email,password:r[a].password,username:r[a].username,fullName:r[a].fullName});return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],null!=r)for(a in r)t.push({description:r[a].description,category:r[a].category,amount:r[a].amount,date:new Date(r[a].date),month:new Date(r[a].date).toLocaleDateString("en-US",{month:"long"}),year:new Date(r[a].date).toLocaleDateString("en-US",{year:"numeric"})});return e.abrupt("return",t.sort((function(e,r){return e.date-r.date})));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,fetch(r,{method:t?t.method:"GET",body:t?JSON.stringify(t.body):null,headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,c(!1),e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),new Error("Some Problem Occured!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(r,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(r,{});case 3:return t=e.sent,e.next=6,o(t);case 6:return a=e.sent,c(!1),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return c(!1),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(r,{});case 3:return a=e.sent,e.next=6,o(a);case 6:return s=e.sent,c(!1),e.abrupt("return",s.find((function(e){return e.email===t})));case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return c(!1),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(r,t);case 3:if(!e.sent){e.next=7;break}return c(!1),e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return c(!1),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r,t){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(r,{});case 3:return a=e.sent,e.next=6,o(a);case 6:return s=e.sent,c(!1),e.abrupt("return",s.find((function(e){return e.id===t})));case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return c(!1),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(r,t);case 3:if(!e.sent){e.next=7;break}return c(!1),e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return c(!1),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r,t){return e.apply(this,arguments)}}(),v=(0,u.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,l(r,{});case 4:return t=e.sent,e.next=7,i(t);case 7:return a=e.sent,c(!1),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:return c(!1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(r){return e.apply(this,arguments)}}(),[]);return{isLoading:t,fetchUserData:f,checkUserExistance:d,addUser:p,fetchUser:h,addExpense:m,fetchExpense:v}}},2982:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(907);var a=t(181);function s(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=133.1483487d.chunk.js.map